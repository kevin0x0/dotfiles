#!/usr/bin/dash

now=$(date '+%H:%M')
if [ "$now" = "00:00" ]; then
  pkill -RTMIN+2 i3blocks
fi

icon=
case "$now" in
  00:[0-2]?|12:[0-2]?) icon="🕛";;
  00:[3-5]?|12:[3-5]?) icon="🕧";;
  01:[0-2]?|13:[0-2]?) icon="🕐";;
  01:[3-5]?|13:[3-5]?) icon="🕜";;
  02:[0-2]?|14:[0-2]?) icon="🕑";;
  02:[3-5]?|14:[3-5]?) icon="🕝";;
  03:[0-2]?|15:[0-2]?) icon="🕒";;
  03:[3-5]?|15:[3-5]?) icon="🕞";;
  04:[0-2]?|16:[0-2]?) icon="🕓";;
  04:[3-5]?|16:[3-5]?) icon="🕟";;
  05:[0-2]?|17:[0-2]?) icon="🕔";;
  05:[3-5]?|17:[3-5]?) icon="🕠";;
  06:[0-2]?|18:[0-2]?) icon="🕕";;
  06:[3-5]?|18:[3-5]?) icon="🕡";;
  07:[0-2]?|19:[0-2]?) icon="🕖";;
  07:[3-5]?|19:[3-5]?) icon="🕢";;
  08:[0-2]?|20:[0-2]?) icon="🕗";;
  08:[3-5]?|20:[3-5]?) icon="🕣";;
  09:[0-2]?|21:[0-2]?) icon="🕘";;
  09:[3-5]?|21:[3-5]?) icon="🕤";;
  10:[0-2]?|22:[0-2]?) icon="🕙";;
  10:[3-5]?|22:[3-5]?) icon="🕥";;
  11:[0-2]?|23:[0-2]?) icon="🕚";;
  11:[3-5]?|23:[3-5]?) icon="🕦";;
esac

printf "%s %s\n" "$icon" "$now"
