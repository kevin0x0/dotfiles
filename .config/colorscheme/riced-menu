set -e

CONFIG_FILE="${XDG_CONFIG_HOME:-$HOME/.config}/riced-menu"
if [ ! -f "$CONFIG_FILE" ]; then
  echo "$CONFIG_FILE doesn't exist" >&2
  exit 1
fi

case $1 in
  dark)
    theme=DARK_COLORS
    ;;
  *)
    theme=LIGHT_COLORS
    ;;
esac

tmp=$(tmpfile)

sed -- 's/^COLORS=.*$/COLORS=$'"$theme"'/' "$CONFIG_FILE" >"$tmp"

cp -- "$tmp" "$CONFIG_FILE"
rm -- "$tmp"


# vim: ft=sh
